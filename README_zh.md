
<div align="center">
  <img src="./readme/images/logo.png" alt="screenshot" width="100" />
  <h1>Camlife</h1>

  [English](/README.md) | ç®€ä½“ä¸­æ–‡

  <img alt="GitHub License" src="https://img.shields.io/github/license/sun0225SUN/camlife">
  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/sun0225SUN/camlife?style=flat">
   <img alt="GitHub Repo forks" src="https://img.shields.io/github/forks/sun0225SUN/camlife?style=flat">
  <img alt="GitHub repo size" src="https://img.shields.io/github/repo-size/sun0225SUN/camlife">
  <img alt="GitHub last commit" src="https://img.shields.io/github/last-commit/sun0225SUN/camlife">
  <img src="https://komarev.com/ghpvc/?username=camlife&label=Views&color=orange&style=flat" alt="visitors count" />&emsp;

  <p>Camlife æ˜¯ä¸€ä¸ªä¸ºæ‰€æœ‰çƒ­çˆ±æ‘„å½±çš„äººæä¾›çš„å±•ç¤ºæ‘„å½±ä½œå“çš„ç½‘ç«™</p>
  <img src="./readme/images/preview.png" alt="screenshot" />
</div>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- [x] ğŸŒ“ æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜
- [x] âœ¨ ç®€çº¦ä¼˜é›…çš„ UI è®¾è®¡
- [x] ğŸ“± å…¨è®¾å¤‡å“åº”å¼è®¾è®¡
- [x] ğŸ–¼ï¸ å„ç§ç²¾ç¾çš„å›¾ç‰‡å±•ç¤ºå¸ƒå±€
- [ ] ğŸ—ºï¸ é…·ç‚«çš„äº¤äº’å¼åœ°å›¾æµè§ˆæ¨¡å¼
- [ ] ğŸ·ï¸ ä½¿ç”¨æ ‡ç­¾æ•´ç†å’Œå±•ç¤ºç…§ç‰‡
- [ ] ğŸ”— å›¾ç‰‡åˆ†äº«å’Œ OpenGraph å›¾ç‰‡ç”Ÿæˆ
- [ ] ğŸ’¼ æ”¯æŒç‰ˆæƒè´­ä¹°çš„å›¾ç‰‡ä½¿ç”¨
- [x] ğŸ“Š ä»ªè¡¨æ¿æ”¯æŒæ•°æ®ç»Ÿè®¡ã€ç›¸å†Œç®¡ç†ç­‰
- [x] ğŸ¤– é›†æˆ AI ç”Ÿæˆçš„å›¾ç‰‡æ ‡é¢˜å’Œæè¿°
- [x] ğŸ“· å›¾ç‰‡ EXIF è‡ªåŠ¨è§£æ
- [x] ğŸ—œï¸ é«˜æ•ˆå›¾ç‰‡å‹ç¼©å’Œæ¨¡ç³Šå“ˆå¸Œæ•°æ®ç”Ÿæˆ
- [x] ğŸ“ åŸºäºç»çº¬åº¦è·å–å›¾ç‰‡ä½ç½®ä¿¡æ¯
- [ ] ğŸ“¦ æ”¯æŒæ‰¹é‡è‡ªåŠ¨ä¸Šä¼ å’Œè§£æå¤„ç†å›¾ç‰‡
- [ ] ğŸ“° ç”Ÿæˆ RSS/JSON è®¢é˜…æº
- [ ] ğŸ“¸ Live Photo å›¾ç‰‡æ ¼å¼æ”¯æŒ
- [ ] ğŸš€ æ”¯æŒ CDN åŠ é€Ÿï¼Œæ›´å¿«çš„ç…§ç‰‡ä¼ è¾“
- [x] ğŸ” ä½¿ç”¨ Better Auth çš„å®‰å…¨è®¤è¯
- [x] ğŸ’¾ å¤šå­˜å‚¨æ”¯æŒï¼šCloudflare R2ã€AWS S3 æˆ– Vercel Blob
- [ ] ğŸ ä¸€äº›å½©è›‹å’Œæ›´å¤šåŠŸèƒ½

## ğŸ¬ ç¤ºä¾‹ç½‘ç«™

- https://camlife.app

> æ¬¢è¿å°†æ‚¨çš„ç½‘ç«™æ·»åŠ åˆ°åˆ—è¡¨ä¸­ https://github.com/sun0225SUN/camlife/issues/11

## ğŸ”¨ æŠ€æœ¯æ ˆ

- âš¡ æ¡†æ¶ - [Next.js](https://nextjs.org)
- ğŸ§© è¯­è¨€ - [TypeScript](https://www.typescriptlang.org)
- ğŸŒ¬ï¸ æ ·å¼ - [Tailwind CSS](https://tailwindcss.com)
- ğŸ›ï¸ UI åº“ - [shadcn/ui](https://ui.shadcn.com)
- ğŸ» çŠ¶æ€ç®¡ç† - [Zustand](https://zustand-demo.pmnd.rs)
- ğŸ˜ æ•°æ®åº“ - [Postgres](https://www.postgresql.org)
- ğŸŒ§ï¸ ORM - [Drizzle](https://orm.drizzle.team)
- ğŸ”‘ è®¤è¯ - [Better Auth](https://www.better-auth.com)
- ğŸ—ºï¸ åœ°å›¾ - [mapbox](https://mapbox.com)
- ğŸŒ å¤šè¯­è¨€ - [next-intl](https://next-intl.dev)
- âœ… æ¨¡å¼éªŒè¯ - [Zod](https://zod.dev)
- ğŸ§ª æµ‹è¯•æ¡†æ¶ - [Vitest](https://vitest.dev)
- ğŸ”— API å±‚ - [tRPC](https://trpc.io)
- ğŸ§¹ æ ¼å¼åŒ–å™¨å’Œä»£ç æ£€æŸ¥ - [Biome](https://biomejs.dev)
- ğŸª Git é’©å­ - [Lefthook](https://lefthook.dev)
- ğŸ“Š æµé‡åˆ†æ - [Umami](https://umami.is)

## ğŸ‘¥ è´¡çŒ®è€…

<!-- readme: collaborators,contributors -start -->
<table>
	<tbody>
		<tr>
            <td align="center">
                <a href="https://github.com/sun0225SUN">
                    <img src="https://avatars.githubusercontent.com/u/79169717?v=4" width="100;" alt="sun0225SUN"/>
                    <br />
                    <sub><b>Guoqi Sun</b></sub>
                </a>
            </td>
		</tr>
	<tbody>
</table>
<!-- readme: collaborators,contributors -end -->

## ğŸ’¡ å¯å‘é¡¹ç›®

- [Camarts](https://camarts.app)
- [exif-photo-blog](https://github.com/sambecker/exif-photo-blog)
- [photography-website](https://github.com/ECarry/photography-website)
- [PicImpact](https://github.com/besscroft/PicImpact)
- [Afilmory](https://github.com/Afilmory/afilmory)
- [chronoframe](https://github.com/HoshinoSuzumi/chronoframe)
- [running_page](https://github.com/yihong0618/running_page)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Vercel

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/sun0225SUN/camlife)

### Netlify

[![Deploy to Netlify](https://www.netlify.com/img/deploy/button.svg)](https://app.netlify.com/start/deploy?repository=https://github.com/sun0225SUN/camlife)

### Docker

1. åœ¨æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶

2. Docker Compose

```bash
docker-compose up -d
```

> [!warning]
> è¯·ç¡®ä¿åœ¨è¿è¡Œé¡¹ç›®ä¹‹å‰æ­£ç¡®é…ç½®æ‰€æœ‰å¿…è¦çš„ç¯å¢ƒå˜é‡ã€‚

```bash
# æ•°æ®åº“
DATABASE_URL="postgresql://postgres:password@host:port/camlife"

# å­˜å‚¨
STORAGE_PROVIDER="cloudflare-r2" # cloudflare-r2 | aws-s3 | vercel-blob

CLOUDFLARE_R2_ENDPOINT="https://fcb75ae*******2a3f5ce73fb.r2.cloudflarestorage.com"
CLOUDFLARE_R2_BUCKET="files"
CLOUDFLARE_R2_REGION="auto"
CLOUDFLARE_R2_ACCESS_KEY_ID="eac63617**********41cd00889"
CLOUDFLARE_R2_SECRET_ACCESS_KEY="29d01ddcb25d*****************b6d561ab18d175a94f"
CLOUDFLARE_R2_PREFIX="camlife"
CLOUDFLARE_R2_PUBLIC_URL="https://pub-ba****************j.r2.dev"

AWS_S3_BUCKET=
AWS_S3_REGION=
AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_ACCESS_KEY=

# Mapbox
NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN="pk.eyJ18***********************************9.N3bTvCedxVfugnrCSRT2kw"

# è®¤è¯
# æ‚¨å¯ä»¥ä½¿ç”¨ `openssl rand -base64 32` ç”Ÿæˆéšæœºå¯†é’¥
BETTER_AUTH_SECRET="I1IA7rUTafc+feqzSE61tjlPhtzTkewhJUnp6lL9nVI="
BETTER_AUTH_URL="http://localhost:3000"

# Umami
NEXT_PUBLIC_UMAMI_ANALYTICS_ID="****-1d30-4876-8de6-****"
NEXT_PUBLIC_UMAMI_ANALYTICS_JS="https://umami.guoqi.dev/script.js"
```


| å˜é‡å                            | æè¿°                                                   | é»˜è®¤å€¼                  | å¿…éœ€ |
| :-------------------------------- | :----------------------------------------------------- | :---------------------- | :--- |
| `DATABASE_URL`                    | PostgreSQL æ•°æ®åº“è¿æ¥ URL                              | None                    | Yes  |
| `STORAGE_PROVIDER`                | å­˜å‚¨æä¾›å•† (cloudflare-r2, aws-s3, vercel-blob)        | cloudflare-r2           | Yes  |
| `CLOUDFLARE_R2_ENDPOINT`          | Cloudflare R2 ç«¯ç‚¹ URL                                 | None                    | Yes* |
| `CLOUDFLARE_R2_BUCKET`            | Cloudflare R2 å­˜å‚¨æ¡¶åç§°                               | None                    | Yes* |
| `CLOUDFLARE_R2_REGION`            | Cloudflare R2 åŒºåŸŸ                                     | auto                    | No   |
| `CLOUDFLARE_R2_ACCESS_KEY_ID`     | Cloudflare R2 è®¿é—®å¯†é’¥ ID                              | None                    | Yes* |
| `CLOUDFLARE_R2_SECRET_ACCESS_KEY` | Cloudflare R2 ç§˜å¯†è®¿é—®å¯†é’¥                             | None                    | Yes* |
| `CLOUDFLARE_R2_PREFIX`            | Cloudflare R2 å¯¹è±¡é”®å‰ç¼€                               | camlife                 | No   |
| `CLOUDFLARE_R2_PUBLIC_URL`        | Cloudflare R2 å…¬å…±è®¿é—®æ–‡ä»¶ URL                         | None                    | Yes* |
| `AWS_S3_BUCKET`                   | AWS S3 å­˜å‚¨æ¡¶åç§°                                      | None                    | Yes* |
| `AWS_S3_REGION`                   | AWS S3 åŒºåŸŸ                                            | auto                    | No   |
| `AWS_S3_ACCESS_KEY`               | AWS S3 è®¿é—®å¯†é’¥                                        | None                    | Yes* |
| `AWS_S3_SECRET_ACCESS_KEY`        | AWS S3 ç§˜å¯†è®¿é—®å¯†é’¥                                    | None                    | Yes* |
| `NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN` | Mapbox åœ°å›¾æœåŠ¡è®¿é—®ä»¤ç‰Œ                                | None                    | Yes  |
| `BETTER_AUTH_SECRET`              | Better Auth å¯†é’¥ (ä½¿ç”¨ `openssl rand -base64 32` ç”Ÿæˆ) | None                    | Yes  |
| `BETTER_AUTH_URL`                 | åº”ç”¨ç¨‹åºåŸºç¡€ URL                                       | `http://localhost:3000` | Yes  |
| `NEXT_PUBLIC_UMAMI_ANALYTICS_ID`  | Umami ç½‘ç«™ ID                                          | None                    | No   |
| `NEXT_PUBLIC_UMAMI_ANALYTICS_JS`  | Umami è‡ªå®šä¹‰åˆ†æ JS URL                                | None                    | No   |

> [!note]
> æ ‡è®°ä¸º `*` çš„å˜é‡ä»…åœ¨ `STORAGE_PROVIDER` è®¾ç½®ä¸º `cloudflare-r2` æ—¶å¿…éœ€ã€‚å¯¹äºå…¶ä»–å­˜å‚¨æä¾›å•†ï¼ˆAWS S3ã€Vercel Blobï¼‰ï¼Œéœ€è¦ä¸åŒçš„ç¯å¢ƒå˜é‡ã€‚

<details>
<summary><strong>Cloudflare R2</strong></summary>

1. è®¾ç½®å­˜å‚¨æ¡¶
   - [åˆ›å»º R2 å­˜å‚¨æ¡¶](https://developers.cloudflare.com/r2/)ï¼Œä½¿ç”¨é»˜è®¤è®¾ç½®
   - åœ¨å­˜å‚¨æ¡¶è®¾ç½®ä¸‹é…ç½® CORSï¼š
   ```json
   [{
       "AllowedHeaders": ["*"],
       "AllowedMethods": [
         "GET",
         "PUT"
       ],
       "AllowedOrigins": [
          "http://localhost:3000",
          "https://{VERCEL_PROJECT_NAME}*.vercel.app",
          "{PRODUCTION_DOMAIN}"
       ]
   }]
   ```
   - é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€å¯ç”¨å…¬å…±æ‰˜ç®¡ï¼š
       - é€‰æ‹©"è¿æ¥è‡ªå®šä¹‰åŸŸ"å¹¶é€‰æ‹© Cloudflare åŸŸ
       - æˆ–è€…
       - ä» R2.dev å­åŸŸé€‰æ‹©"å…è®¸è®¿é—®"
   - å­˜å‚¨å…¬å…±é…ç½®ï¼š
     - `CLOUDFLARE_R2_BUCKET`ï¼šå­˜å‚¨æ¡¶åç§°
     - `CLOUDFLARE_R2_ENDPOINT`ï¼šå­˜å‚¨æ¡¶ç«¯ç‚¹
     - `CLOUDFLARE_R2_PUBLIC_URL`ï¼šå¯ä»¥æ˜¯"your-custom-domain.com"æˆ–"pub-jf90908...s0d9f8s0s9df.r2.dev"
2. è®¾ç½®ç§æœ‰å‡­æ®
   - é€šè¿‡é€‰æ‹©"ç®¡ç† R2 API ä»¤ç‰Œ"å¹¶ç‚¹å‡»"åˆ›å»º API ä»¤ç‰Œ"æ¥åˆ›å»º API ä»¤ç‰Œ
   - é€‰æ‹©"å¯¹è±¡è¯»å†™"ï¼Œé€‰æ‹©"ä»…åº”ç”¨äºç‰¹å®šå­˜å‚¨æ¡¶"ï¼Œå¹¶é€‰æ‹©åœ¨æ­¥éª¤ 1 ä¸­åˆ›å»ºçš„å­˜å‚¨æ¡¶
   - å­˜å‚¨å‡­æ®ï¼š
     - `CLOUDFLARE_R2_ACCESS_KEY`
     - `CLOUDFLARE_R2_SECRET_ACCESS_KEY`

</details>

<details>
<summary><strong>AWS S3</strong></summary>

1. è®¾ç½®å­˜å‚¨æ¡¶
   - [åˆ›å»º S3 å­˜å‚¨æ¡¶](https://s3.console.aws.amazon.com/s3)ï¼Œå¯ç”¨"ACL"ï¼Œå¹¶å…³é—­"é˜»æ­¢æ‰€æœ‰å…¬å…±è®¿é—®"
   - åœ¨å­˜å‚¨æ¡¶æƒé™ä¸‹è®¾ç½® CORSï¼š
     ```json
     [{
      "AllowedHeaders": ["*"],
      "AllowedMethods": [
        "GET",
        "PUT"
      ],
      "AllowedOrigins": [
        "http://localhost:*",
        "https://{VERCEL_PROJECT_NAME}*.vercel.app",
        "{PRODUCTION_DOMAIN}"
      ],
      "ExposeHeaders": []
     }]
     ```
   - å­˜å‚¨å…¬å…±é…ç½®
     - `AWS_S3_BUCKET`ï¼šå­˜å‚¨æ¡¶åç§°
     - `AWS_S3_REGION`ï¼šå­˜å‚¨æ¡¶åŒºåŸŸï¼Œä¾‹å¦‚"us-east-1"
2. è®¾ç½®ç§æœ‰å‡­æ®
   - [åˆ›å»º IAM ç­–ç•¥](https://console.aws.amazon.com/iam/home#/policies)ï¼Œä½¿ç”¨ JSON ç¼–è¾‘å™¨ï¼š
     ```json
     {
       "Version": "2012-10-17",
       "Statement": [
         {
           "Effect": "Allow",
           "Action": [
             "s3:PutObject",
             "s3:PutObjectACL",
             "s3:GetObject",
             "s3:ListBucket",
             "s3:DeleteObject"
           ],
           "Resource": [
             "arn:aws:s3:::{BUCKET_NAME}",
             "arn:aws:s3:::{BUCKET_NAME}/*"
           ]
         }
       ]
     }
     ```
   - [åˆ›å»º IAM ç”¨æˆ·](https://console.aws.amazon.com/iam/home#/users)ï¼Œé€‰æ‹©"ç›´æ¥é™„åŠ ç­–ç•¥"ï¼Œå¹¶é€‰æ‹©ä¸Šé¢åˆ›å»ºçš„ç­–ç•¥ã€‚åœ¨"å®‰å…¨å‡­æ®"ä¸‹åˆ›å»º"è®¿é—®å¯†é’¥"ï¼Œé€‰æ‹©"åœ¨ AWS å¤–éƒ¨è¿è¡Œçš„åº”ç”¨ç¨‹åº"ï¼Œå¹¶å­˜å‚¨å‡­æ®ï¼š
     - `AWS_S3_ACCESS_KEY`
     - `AWS_S3_SECRET_ACCESS_KEY`

</details>

<details>
<summary><strong>Vercel Blob</strong></summary>
  å¾…å®Œæˆ
</details>


## ğŸ’» æœ¬åœ°å¼€å‘

1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/sun0225SUN/camlife.git

cd camlife
```

2. åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª .env æ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§ [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) éƒ¨åˆ†æ‰€è¿°é…ç½®ç¯å¢ƒå˜é‡

3. å®‰è£…ä¾èµ–

```bash
bun install
```

4. è®¾ç½®æ•°æ®åº“

```bash
bun db:migrate
```

5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
bun run dev
```

æ‰“å¼€ï¼š`http://localhost:3000` æŸ¥çœ‹æ‚¨çš„åº”ç”¨ç¨‹åºã€‚

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [GNU General Public License v3.0](LICENSE) è®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤é—®é¢˜å’Œæ‹‰å–è¯·æ±‚ã€‚

## ğŸ’– æ”¯æŒ

å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·åœ¨ GitHub ä¸Šç»™å®ƒä¸€ä¸ª â­ï¸ï¼

<table>
	<tbody>
		<tr>
      <td align="center">
         <img src="https://files.guoqi.dev/wxpay.png" width="250px"  alt="wxpay" style="border-radius:10px;" />
      </td>
      <td align="center">
        <img src="https://files.guoqi.dev/alipay.jpg" width="250px"  alt="alipay" style="border-radius:10px;" />
      </td>
		</tr>
	<tbody>
</table>

## ğŸ“Š ä»“åº“çŠ¶æ€

![Alt](https://repobeats.axiom.co/api/embed/f5bb2ebee60c45f94f913acf667a4500d1f0fbfa.svg "Repobeats analytics image")

## â­ Star å†å²

[![Star History Chart](https://api.star-history.com/svg?repos=sun0225SUN/camlife&type=Date)](https://github.com/sun0225SUN/camlife)